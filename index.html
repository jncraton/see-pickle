<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>See Pickle</title>
    <style>
    span {
      font-size: 64px;
      position: fixed;
    }
    </style>
  </head>

  <body>
    <span id=score>0</span>
    <script>
    const emojis = [
      "ðŸ¥’", "ðŸ˜„", "ðŸš€", "ðŸŒˆ", "ðŸ•", "ðŸŽ©", "ðŸŽ¸", "ðŸ±", "ðŸ¦„", "âš½", "ðŸŒ®", "ðŸŽ²", "ðŸŽ¯", "ðŸŒ»", "ðŸ¶",
      "ðŸ€", "ðŸ„", "ðŸ", "ðŸ¼", "ðŸ”¥", "ðŸŒº", "ðŸ’Ž", "ðŸŽ", "ðŸ¤–", "ðŸ˜º", "ðŸŒ", "ðŸŒ™", "ðŸŒ ", "ðŸ‰", "ðŸ”",
      "ðŸŸ", "ðŸ¦", "ðŸŽ®", "ðŸ“š", "ðŸ’¡", "ðŸ™", "ðŸš´â€â™€ï¸", "ðŸ€", "ðŸš¤", "ðŸ›¸", "ðŸš²", "ðŸ˜Ž", "ðŸŽ¨", "ðŸŽµ",
      "ðŸ¢", "ðŸŸ", "ðŸ¦‹", "ðŸž", "ðŸŒ¼"
    ]

    let pickleTime = 0
    let playing = true
    let pickle

    const gameOver = () => {
      pickle = null
      playing = false
      pickleTime = 0
    }
    
    window.setInterval(() => {
      let el = document.createElement('span')
      let idx = Math.floor((Math.random() * emojis.length/4))

      if (idx == 0 && !pickle) {
        pickleTime = Date.now()
      } else if (idx == 0) {
        idx = 1
      }

      if (playing == false) {
        idx = 1
      }

      el.textContent = emojis[idx]
      el.style.left = Math.random() * 90 + '%'
      el.style.top = Math.random() * 90 + '%'
      document.body.append(el)

      if (idx == 0) {
        pickle = el
      }

      // Remove old items
      window.setTimeout(() => {
        el.remove()
        if (idx == 0 && pickle) {
          gameOver()
        }
      }, 1000)
    }, 100)

    document.addEventListener('click', () => {
      if (pickle && playing) {
        pickle.remove()
        pickle = null
        score.textContent = +score.textContent + 1
      } else if (!playing) {
        score.textContent = 0
        playing = true
      } else {
        gameOver()
      }
    })
    </script>
  </body>
</html>
